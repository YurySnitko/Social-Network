(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{132:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__3SIki"}},166:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__3_6PC",posts:"MyPosts_posts__1hEKQ"}},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47),c=n(8),s={dialogs:[{id:1,name:"Dima"},{id:2,name:"Sasha"},{id:3,name:"Margo"},{id:4,name:"Dan"},{id:5,name:"Max"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}]},a={sendMessage:function(e){return{type:"SN/DIALOGS/SEND-MESSAGE",newMessageBody:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/DIALOGS/SEND-MESSAGE":var n=t.newMessageBody;return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}}},219:function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return N})),n.d(t,"b",(function(){return T}));var r=n(15),c=n.n(r),s=n(31),a=n(47),i=n(8),o={"messages-received":[],"status-changed":[]},u=null,l=function(){O("pending"),setTimeout(h,3e3)},j=function(e){var t=JSON.parse(e.data);o["messages-received"].forEach((function(e){return e(t)}))},d=function(){O("ready")},b=function(){O("error"),console.log("restart page")},f=function(){var e,t,n,r;null===(e=u)||void 0===e||e.removeEventListener("close",l),null===(t=u)||void 0===t||t.removeEventListener("message",j),null===(n=u)||void 0===n||n.removeEventListener("open",d),null===(r=u)||void 0===r||r.removeEventListener("error",b)},O=function(e){o["status-changed"].forEach((function(t){return t(e)}))};function h(){var e;f(),null===(e=u)||void 0===e||e.close(),O("pending"),(u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("close",l),u.addEventListener("message",j),u.addEventListener("open",d),u.addEventListener("error",b)}var p=function(){h()},x=function(){var e;o["messages-received"]=[],o["status-changed"]=[],f(),null===(e=u)||void 0===e||e.close()},m=function(e,t){return o[e].push(t),function(){o[e]=o[e].filter((function(e){return e!==t}))}},g=function(e,t){o[e]=o[e].filter((function(e){return e!==t}))},v=function(e){var t;null===(t=u)||void 0===t||t.send(e)},S=n(482),E={messages:[],status:"pending"},w=function(e){return{type:"social-network/chat/MESSAGES_RECEIVED",payload:{messages:e}}},y=function(e){return{type:"social-network/chat/STATUS_CHANGED",payload:{status:e}}},P=null,_=function(e){return null===P&&(P=function(t){e(w(t))}),P},I=null,C=function(e){return null===I&&(I=function(t){e(y(t))}),I},k=function(){return function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(),m("messages-received",_(t)),m("status-changed",C(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(){return function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g("messages-received",_(t)),g("status-changed",C(t)),x();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social-network/chat/MESSAGES_RECEIVED":return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),Object(a.a)(t.payload.messages.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{id:Object(S.a)()})})))).filter((function(e,t,n){return t>=n.length-100}))});case"social-network/chat/STATUS_CHANGED":return Object(i.a)(Object(i.a)({},e),{},{status:t.payload.status});default:return e}}},223:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__17MJB"}},235:function(e,t,n){e.exports={item:"Post_item__LYZ_H"}},273:function(e,t,n){},274:function(e,t,n){},276:function(e,t,n){},278:function(e,t,n){},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return d}));var r=n(8),c=n(158),s=(n(0),n(156)),a=n(78),i=n.n(a),o=n(1),u=function(e){var t=e.meta,n=t.touched,r=t.error,c=e.children,s=n&&r;return Object(o.jsxs)("div",{className:i.a.formControl+" "+(s?i.a.error:""),children:[Object(o.jsx)("div",{children:c}),s&&Object(o.jsx)("span",{children:r})]})},l=function(e){var t=e.input,n=(e.meta,Object(c.a)(e,["input","meta"]));return Object(o.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(o.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},j=function(e){var t=e.input,n=(e.meta,Object(c.a)(e,["input","meta"]));return Object(o.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(o.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))};function d(e,t,n,c){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(o.jsxs)("div",{children:[Object(o.jsx)(s.a,Object(r.a)({placeholder:e,name:t,validate:n,component:c},a))," ",i]})}},475:function(e,t,n){"use strict";n.r(t);var r,c,s=n(32),a=n.n(s),i=(n(273),function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,489)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))}),o=n(220),u=n(221),l=n(239),j=n(236),d=n(0),b=n.n(d),f=(n(274),n(275),n(46)),O=n(20),h=(n(276),n(1)),p=function(e){return Object(h.jsx)("div",{children:"News"})},x=(n(278),function(e){return Object(h.jsx)("div",{children:"Music"})}),m=function(e){return Object(h.jsx)("div",{children:"Settings"})},g=n(16),v=n.p+"static/media/preloaderSpin.f5df7e52.svg",S=function(){return Object(h.jsx)("div",{style:{backgroundColor:"white"},children:Object(h.jsx)("img",{src:v,alt:"preload"})})},E=function(e){return e.usersPage.users},w=function(e){return e.usersPage.pageSize},y=function(e){return e.usersPage.totalUsersCount},P=function(e){return e.usersPage.currentPage},_=function(e){return e.usersPage.isFetching},I=function(e){return e.usersPage.followingInProgress},C=function(e){return e.usersPage.filter},k=n(8),N=n(117),T=n(77),U=n(132),L=n.n(U),A=n(6),R=n.n(A),F=function(e){for(var t=e.totalUsersCount,n=e.pageSize,r=e.onPageChanged,c=e.currentPage,s=e.portionSize,a=void 0===s?10:s,i=Math.ceil(t/n),o=[],u=1;u<=i;u++)o.push(u);var l=Math.ceil(i/a),j=Object(d.useState)(1),b=Object(T.a)(j,2),f=b[0],O=b[1],p=(f-1)*a+1,x=f*a;return Object(h.jsxs)("div",{className:R()(L.a.paginator),children:[f>1&&Object(h.jsx)("button",{onClick:function(){return O(f-1)},children:"PREV"}),o.filter((function(e){return e>=p&&e<=x})).map((function(e){return Object(h.jsx)("span",{className:R()(Object(N.a)({},L.a.selectedPage,c===e),L.a.pageNumber),onClick:function(){r(e)},children:e},e)})),l>f&&Object(h.jsx)("button",{onClick:function(){O(f+1)},children:"NEXT"})]})},M=n(223),D=n.n(M),G=n.p+"static/media/user.81251c2b.png",z=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,c=e.follow;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(f.c,{to:"/profile/"+t.id,children:Object(h.jsx)("img",{src:null!=t.photos.small?t.photos.small:G,className:D.a.userPhoto,alt:"UserPhoto"})})}),Object(h.jsx)("div",{children:t.followed?Object(h.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(h.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){c(t.id)},children:"Follow"})})]}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{children:t.name}),Object(h.jsx)("div",{children:t.status})]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{children:"user.location.country"}),Object(h.jsx)("div",{children:"user.location.city"})]})]})]})},H=n(107),B=function(e){return{}},J=b.a.memo((function(e){var t=Object(g.d)(C);return Object(h.jsx)("div",{children:Object(h.jsx)(H.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:B,onSubmit:function(t,n){var r=n.setSubmitting,c={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(c),r(!1)},children:function(e){var t=e.isSubmitting;return Object(h.jsxs)(H.b,{children:[Object(h.jsx)(H.a,{type:"text",name:"term"}),Object(h.jsxs)(H.a,{name:"friend",as:"select",children:[Object(h.jsx)("option",{value:"null",children:"All"}),Object(h.jsx)("option",{value:"true",children:"Only followed"}),Object(h.jsx)("option",{value:"false",children:"only unfollowed"})]}),Object(h.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),V=n(15),W=n.n(V),Z=n(31),q=n(47),Y=n(226),X=n.n(Y).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"556cee82-8802-4677-8820-f69af84e115c"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(c||(c={}));var K={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return X.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"$friend=".concat(r))).then((function(e){return e.data}))},follow:function(e){return X.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return X.delete("follow/".concat(e)).then((function(e){return e.data}))}},Q=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(k.a)(Object(k.a)({},e),r):e}))},$={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},ee=function(e){return{type:"SN/USERS/FOLLOW",userId:e}},te=function(e){return{type:"SN/USERS/UNFOLLOW",userId:e}},ne=function(e){return{type:"SN/USERS/SET_USERS",users:e}},re=function(e){return{type:"SN/USERS/SET_CURRENT_PAGE",currentPage:e}},ce=function(e){return{type:"SN/USERS/SET_FILTER",payload:e}},se=function(e){return{type:"SN/USERS/SET_TOTAL_USERS_COUNT",count:e}},ae=function(e){return{type:"SN/USERS/TOGGLE_IS_FETCHING",isFetching:e}},ie=function(e,t){return{type:"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},oe=function(e,t,n){return function(){var r=Object(Z.a)(W.a.mark((function r(c){var s;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(ae(!0)),c(re(e)),c(ce(n)),r.next=5,K.getUsers(e,t,n.term,n.friend);case 5:s=r.sent,c(ae(!1)),c(ne(s.items)),c(se(s.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},ue=function(){var e=Object(Z.a)(W.a.mark((function e(t,n,r,c){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ie(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(c(n)),t(ie(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":return Object(k.a)(Object(k.a)({},e),{},{users:Q(e.users,t.userId,"id",{followed:!0})});case"SN/USERS/UNFOLLOW":return Object(k.a)(Object(k.a)({},e),{},{users:Q(e.users,t.userId,"id",{followed:!1})});case"SN/USERS/SET_USERS":return Object(k.a)(Object(k.a)({},e),{},{users:Object(q.a)(t.users)});case"SN/USERS/SET_CURRENT_PAGE":return Object(k.a)(Object(k.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/SET_TOTAL_USERS_COUNT":return Object(k.a)(Object(k.a)({},e),{},{totalUsersCount:t.count});case"SN/USERS/TOGGLE_IS_FETCHING":return Object(k.a)(Object(k.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(k.a)(Object(k.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(q.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case"SN/USERS/SET_FILTER":return Object(k.a)(Object(k.a)({},e),{},{filter:t.payload});default:return e}},je=n(162),de=function(){var e=Object(g.d)(E),t=Object(g.d)(y),n=Object(g.d)(P),r=Object(g.d)(w),c=Object(g.d)(C),s=Object(g.d)(I),a=Object(g.c)(),i=Object(O.g)();Object(d.useEffect)((function(){var e=je.parse(i.location.search.substr(1)),t=n,s=c;switch(e.page&&(t=Number(e.page)),e.term&&(s=Object(k.a)(Object(k.a)({},s),{},{term:e.term})),e.friend){case"null":s=Object(k.a)(Object(k.a)({},s),{},{friend:null});break;case"true":s=Object(k.a)(Object(k.a)({},s),{},{friend:!0});break;case"false":s=Object(k.a)(Object(k.a)({},s),{},{friend:!1})}a(oe(t,r,s))}),[]),Object(d.useEffect)((function(){var e={};c.term&&(e.term=c.term),null!==c.friend&&(e.friend=String(c.friend)),1!==n&&(e.page=String(n)),i.push({pathname:"/developers",search:je.stringify(e)})}),[c,n]);var o=function(e){a(function(e){return function(){var t=Object(Z.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(n,e,K.unfollow.bind(K),te);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},u=function(e){a(function(e){return function(){var t=Object(Z.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(n,e,K.follow.bind(K),ee);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(h.jsxs)("div",{children:[Object(h.jsx)(J,{onFilterChanged:function(e){a(oe(1,r,e))}}),Object(h.jsx)(F,{currentPage:n,onPageChanged:function(e){a(oe(e,r,c))},totalUsersCount:t,pageSize:r}),Object(h.jsx)("div",{children:e.map((function(e){return Object(h.jsx)(z,{user:e,followingInProgress:s,follow:u,unfollow:o},e.id)}))})]})},be=function(e){var t=Object(g.d)(_);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:e.pageTitle}),t?Object(h.jsx)(S,{}):null,Object(h.jsx)(de,{})]})},fe=function(){return X.get("security/get-captcha-url").then((function(e){return e.data}))},Oe=function(){return X.get("auth/me").then((function(e){return e.data}))},he=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return X.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},pe=function(){return X.delete("auth/login")},xe=n(60),me={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},ge=function(e,t,n,r){return{type:"social-network/auth/SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},ve=function(e){return{type:"social-network/auth/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},Se=function(){return function(){var e=Object(Z.a)(W.a.mark((function e(t){var n,c,s,a,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:(n=e.sent).resultCode===r.Success&&(c=n.data,s=c.id,a=c.email,i=c.login,t(ge(s,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ee=function(){return function(){var e=Object(Z.a)(W.a.mark((function e(t){var n,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:n=e.sent,r=n.url,t(ve(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social-network/auth/SET_USER_DATA":case"social-network/auth/GET_CAPTCHA_URL_SUCCESS":return Object(k.a)(Object(k.a)({},e),t.payload);default:return e}},ye={initialized:!1},Pe=function(){return{type:"SN/APP/INITIALIZED_SUCCESS"}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/APP/INITIALIZED_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{initialized:!0});default:return e}},Ie=n(26);function Ce(e){return function(t){return Object(h.jsx)(b.a.Suspense,{fallback:Object(h.jsx)(S,{}),children:Object(h.jsx)(e,Object(k.a)({},t))})}}var ke=n(179),Ne=function(e){return X.get("profile/"+e).then((function(e){return e.data}))},Te=function(e){return X.get("profile/status/"+e).then((function(e){return e.data}))},Ue=function(e){return X.put("profile/status/",{status:e}).then((function(e){return e.data}))},Le=function(e){var t=new FormData;return t.append("image",e),X.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},Ae=function(e){return X.put("profile",e).then((function(e){return e.data}))},Re={posts:[{id:1,message:"Hi, how are you?",likesCount:10},{id:2,message:"it's my first post",likesCount:5},{id:3,message:"Heeeeey",likesCount:15}],profile:null,status:""},Fe={addPostActionCreator:function(e){return{type:"SN/PROFILE/ADD-POST",newPostBody:e}},setUserProfile:function(e){return{type:"SN/PROFILE/SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"SN/PROFILE/SET_STATUS",status:e}},deletePost:function(e){return{type:"SN/PROFILE/DELETE_POST",postId:e}},savePhotoSuccess:function(e){return{type:"SN/PROFILE/SAVE_PHOTO_SUCCESS",photos:e}}},Me=function(e){return function(){var t=Object(Z.a)(W.a.mark((function t(n){var r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne(e);case 2:r=t.sent,n(Fe.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROFILE/ADD-POST":return Object(k.a)(Object(k.a)({},e),{},{posts:[].concat(Object(q.a)(e.posts),[{id:5,message:t.newPostBody,likesCount:0}])});case"SN/PROFILE/SET_USER_PROFILE":return Object(k.a)(Object(k.a)({},e),{},{profile:t.profile});case"SN/PROFILE/SET_STATUS":return Object(k.a)(Object(k.a)({},e),{},{status:t.status});case"SN/PROFILE/DELETE_POST":return Object(k.a)(Object(k.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SN/PROFILE/SAVE_PHOTO_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{profile:Object(k.a)(Object(k.a)({},e.profile),{},{photos:t.photos})});default:return e}},Ge=[{id:1,name:"Dima"},{id:2,name:"Margo"},{id:3,name:"Andrew"}],ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return e},He=n(227),Be=n(218),Je=n(219),Ve=Object(Ie.c)({profilePage:De,dialogsPage:ke.b,sidebar:ze,usersPage:le,auth:we,form:Be.a,app:_e,chat:Je.a}),We=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ie.d,Ze=Object(Ie.e)(Ve,We(Object(Ie.a)(He.a)));window.__store__=Ze;var qe=Ze,Ye=n(216),Xe=n(29),Ke=n(79),Qe=n(78),$e=n.n(Qe),et=Object(Ye.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object(h.jsxs)("form",{onSubmit:t,children:[Object(Xe.c)("Email","email",[Ke.b],Xe.a),Object(Xe.c)("Password","password",[Ke.b],Xe.a,{type:"password"}),Object(Xe.c)(void 0,"rememberMe",[],Xe.a,{type:"checkbox"},"remember me"),r&&Object(h.jsx)("img",{src:r,alt:"captcha"}),r&&Object(Xe.c)("Anti-bot symbols","captcha",[Ke.b],Xe.a),n&&Object(h.jsx)("div",{className:$e.a.formSummaryError,children:n}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"Sign Up"})})]})})),tt=function(){var e=Object(g.d)((function(e){return e.auth.captchaUrl})),t=Object(g.d)((function(e){return e.auth.isAuth})),n=Object(g.c)();return t?Object(h.jsx)(O.a,{to:"/profile"}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"LOGIN"}),Object(h.jsx)(et,{onSubmit:function(e){var t,s,a,i;n((t=e.email,s=e.password,a=e.rememberMe,i=e.captcha,function(){var e=Object(Z.a)(W.a.mark((function e(n){var o,u;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t,s,a,i);case 2:(o=e.sent).resultCode===r.Success?n(Se()):(o.resultCode===c.CaptchaIsRequired&&n(Ee()),u=o.messages.length>0?o.messages[0]:"Some error",n(Object(xe.a)("login",{_error:u})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:e})]})},nt=n(167),rt=n(479),ct=n(480),st=n(484),at=n(485),it=n(486),ot=n(481),ut=n(483),lt=n(134),jt=n(232),dt=n.n(jt),bt=function(e){return e.auth.isAuth},ft=function(e){return e.auth.login},Ot=function(e){return e.auth.userId},ht=function(e){var t=Object(g.d)(bt),n=Object(g.d)(ft),r=Object(g.c)(),c=rt.a.Header;return Object(h.jsx)(c,{className:"header",children:Object(h.jsxs)(ot.a,{children:[Object(h.jsx)(ut.a,{span:18,children:Object(h.jsx)(nt.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],children:Object(h.jsx)(nt.a.Item,{children:Object(h.jsx)(f.b,{to:"/developers",children:"Developers"})},"1")})}),t?Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)(ut.a,{span:1,children:Object(h.jsx)(dt.a,{alt:n||"",style:{backgroundColor:"#87d068"},icon:Object(h.jsx)(st.a,{})})}),Object(h.jsx)(ut.a,{span:5,children:Object(h.jsx)(lt.a,{onClick:function(){r(function(){var e=Object(Z.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:0===e.sent.data.resultCode&&t(ge(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log out"})})]}):Object(h.jsx)(ut.a,{span:6,children:Object(h.jsx)(lt.a,{children:Object(h.jsx)(f.b,{to:"/login",children:"Login"})})})]})})},pt=Object(Ke.a)(100),xt=Object(Ye.a)({form:"ProfileAddNewPostForm"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)("div",{children:Object(Xe.c)("Post Message","newPostText",[Ke.b,pt],Xe.b)}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"Add post"})})]})})),mt=n(166),gt=n.n(mt),vt=n(235),St=n.n(vt),Et=function(e){return Object(h.jsxs)("div",{className:St.a.item,children:[Object(h.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRNplTWk2suGea3AcNZ-nzKJVrLX9mL0SGOmA&usqp=CAU",alt:"phot"}),e.message,Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"like"})," ",e.likesCount]})]})},wt=function(e){var t=Object(q.a)(e.posts).reverse().map((function(e){return Object(h.jsx)(Et,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(h.jsxs)("div",{className:gt.a.postsBlock,children:[Object(h.jsx)("h3",{children:"My post"}),Object(h.jsx)(xt,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(h.jsx)("div",{className:gt.a.posts,children:t})]})},yt=b.a.memo(wt),Pt=Object(g.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:Fe.addPostActionCreator})(yt),_t=n(83),It=n.n(_t),Ct=function(e){var t=Object(d.useState)(!1),n=Object(T.a)(t,2),r=n[0],c=n[1],s=Object(d.useState)(e.status),a=Object(T.a)(s,2),i=a[0],o=a[1];Object(d.useEffect)((function(){o(e.status)}),[e.status]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Status"}),": ",!r&&Object(h.jsx)("div",{children:Object(h.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status||"No status"})}),r&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{onChange:function(e){o(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(i)},value:i})})]})},kt=Object(Ye.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,r=e.error;return Object(h.jsxs)("form",{onSubmit:t,children:[Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"Save"})}),r&&Object(h.jsx)("div",{className:$e.a.formSummaryError,children:r}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Full name"}),": ",Object(Xe.c)("Full name","fullName",[],Xe.a)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Looking for a job"}),": ",Object(Xe.c)("","lookingForAJob",[],Xe.a,{type:"checkbox"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"My professional skills"}),": ",Object(Xe.c)("My professional skills","lookingForAJobDescription",[],Xe.b)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"About me"}),": ",Object(Xe.c)("About me...","aboutMe",[],Xe.b)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts"}),": ",Object.keys(n.contacts).map((function(e){return Object(h.jsx)("div",{className:It.a.contacts,children:Object(h.jsxs)("b",{children:[e,": ",Object(Xe.c)(e,"contacts."+e,[],Xe.a)]})},e)}))]})]})})),Nt=function(e){return e.profilePage.profile},Tt=function(e){return e.profilePage.status},Ut=function(e){var t=e.profile,n=e.isOwner,r=e.goToEditMode;return Object(h.jsxs)("div",{children:[n&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:r,children:"Edit"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(h.jsx)(Lt,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},Lt=function(e){var t=e.contactTitle,n=e.contactValue;return Object(h.jsxs)("div",{className:It.a.contacts,children:[Object(h.jsx)("b",{children:t}),": ",n]})},At=function(){var e=Object(g.d)(Nt),t=Object(g.d)(Tt),n=Object(g.d)(Ot),r=Object(g.c)(),c=Object(O.g)(),s=Object(O.h)().userId,a=!s,i=function(){var e=Number(s);e||(e=n)||c.push("/login"),e?(r(Me(e)),r(function(e){return function(){var t=Object(Z.a)(W.a.mark((function t(n){var r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Te(e);case 2:r=t.sent,n(Fe.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))):console.error("Id should exist on URI params or in state ('authorizedUserId')")};Object(d.useEffect)((function(){i()}),[s]);var o=Object(d.useState)(!1),u=Object(T.a)(o,2),l=u[0],j=u[1];if(!e)return Object(h.jsx)(S,{});return Object(h.jsx)("div",{className:It.a.profileInfo,children:Object(h.jsxs)("div",{className:It.a.descriptionBlock,children:[Object(h.jsx)("img",{src:e.photos.large||G,className:It.a.mainPhoto,alt:"profilePhoto"}),a&&Object(h.jsx)("input",{type:"file",onChange:function(e){var t,n;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&r((n=e.target.files[0],function(){var e=Object(Z.a)(W.a.mark((function e(t){var r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(n);case 2:0===(r=e.sent).resultCode&&t(Fe.savePhotoSuccess(r.data.photos));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}),l?Object(h.jsx)(kt,{initialValues:e,profile:e,onSubmit:function(e){var t;r((t=e,function(){var e=Object(Z.a)(W.a.mark((function e(n,r){var c,s,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r().auth.userId,e.next=3,Ae(t);case 3:if(0!==(s=e.sent).resultCode){e.next=12;break}if(null===c){e.next=9;break}n(Me(c)),e.next=10;break;case 9:throw new Error("userId can't be null");case 10:e.next=15;break;case 12:return a=s.messages.length>0?s.messages[0]:"Some error",n(Object(xe.a)("edit-profile",{contacts:{facebook:a}})),e.abrupt("return",Promise.reject(a));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),j(!1)}}):Object(h.jsx)(Ut,{goToEditMode:function(){return j(!0)},profile:e,isOwner:a}),Object(h.jsx)(Ct,{status:t,updateStatus:function(e){r(function(e){return function(){var t=Object(Z.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ue(e);case 2:0===t.sent.resultCode&&n(Fe.setStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}})]})})},Rt=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(At,{}),Object(h.jsx)(Pt,{})]})},Ft=nt.a.SubMenu,Mt=rt.a.Content,Dt=rt.a.Footer,Gt=rt.a.Sider,zt=b.a.lazy((function(){return n.e(3).then(n.bind(null,491))})),Ht=b.a.lazy((function(){return n.e(4).then(n.bind(null,490))})),Bt=Ce(zt),Jt=Ce(Ht),Vt=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(h.jsxs)(rt.a,{children:[Object(h.jsx)(ht,{}),Object(h.jsxs)(Mt,{style:{padding:"0 50px"},children:[Object(h.jsxs)(ct.a,{style:{margin:"16px 0"},children:[Object(h.jsx)(ct.a.Item,{children:"Home"}),Object(h.jsx)(ct.a.Item,{children:"List"}),Object(h.jsx)(ct.a.Item,{children:"App"})]}),Object(h.jsxs)(rt.a,{className:"site-layout-background",style:{padding:"24px 0"},children:[Object(h.jsx)(Gt,{className:"site-layout-background",width:200,children:Object(h.jsxs)(nt.a,{mode:"inline",style:{height:"100%"},children:[Object(h.jsxs)(Ft,{icon:Object(h.jsx)(st.a,{}),title:"My Profile",children:[Object(h.jsx)(nt.a.Item,{children:Object(h.jsx)(f.b,{to:"/profile",children:"Profile"})},"1"),Object(h.jsx)(nt.a.Item,{children:Object(h.jsx)(f.b,{to:"/dialogs",children:"Messages"})},"2"),Object(h.jsx)(nt.a.Item,{children:"option3"},"3"),Object(h.jsx)(nt.a.Item,{children:"option4"},"4")]},"sub1"),Object(h.jsxs)(Ft,{icon:Object(h.jsx)(at.a,{}),title:"Developers",children:[Object(h.jsx)(nt.a.Item,{children:Object(h.jsx)(f.b,{to:"/developers",children:"Developers"})},"5"),Object(h.jsx)(nt.a.Item,{children:"option6"},"6"),Object(h.jsx)(nt.a.Item,{children:"option7"},"7"),Object(h.jsx)(nt.a.Item,{children:"option8"},"8")]},"sub2"),Object(h.jsxs)(Ft,{icon:Object(h.jsx)(it.a,{}),title:"Chat",children:[Object(h.jsx)(nt.a.Item,{children:Object(h.jsx)(f.b,{to:"/chat",children:"Chat"})},"9"),Object(h.jsx)(nt.a.Item,{children:"option6"},"10"),Object(h.jsx)(nt.a.Item,{children:"option7"},"11"),Object(h.jsx)(nt.a.Item,{children:"option8"},"8")]},"sub3")]})}),Object(h.jsx)(Mt,{style:{padding:"0 24px",minHeight:280},children:Object(h.jsxs)(O.d,{children:[Object(h.jsx)(O.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(O.a,{to:"/profile"})}}),Object(h.jsx)(O.b,{path:"/dialogs",render:function(){return Object(h.jsx)(Bt,{})}}),Object(h.jsx)(O.b,{path:"/profile/:userId?",render:function(){return Object(h.jsx)(Rt,{})}}),Object(h.jsx)(O.b,{path:"/developers",render:function(){return Object(h.jsx)(be,{pageTitle:"Samurai"})}}),Object(h.jsx)(O.b,{path:"/news",render:function(){return Object(h.jsx)(p,{})}}),Object(h.jsx)(O.b,{path:"/music",render:function(){return Object(h.jsx)(x,{})}}),Object(h.jsx)(O.b,{path:"/settings",render:function(){return Object(h.jsx)(m,{})}}),Object(h.jsx)(O.b,{path:"/login",render:function(){return Object(h.jsx)(tt,{})}}),Object(h.jsx)(O.b,{path:"/chat",render:function(){return Object(h.jsx)(Jt,{})}}),Object(h.jsx)(O.b,{path:"*",render:function(){return Object(h.jsx)("div",{children:"404 NOT FOUND"})}})]})})]})]}),Object(h.jsx)(Dt,{style:{textAlign:"center"},children:"Samurai Social Network"})]}):Object(h.jsx)(S,{})}}]),n}(d.Component),Wt=Object(Ie.d)(O.i,Object(g.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Se());Promise.all([t]).then((function(){e(Pe())}))}}}))(Vt),Zt=function(){return Object(h.jsx)(f.a,{children:Object(h.jsx)(g.a,{store:qe,children:Object(h.jsx)(Wt,{})})})};a.a.render(Object(h.jsx)(Zt,{}),document.getElementById("root")),i()},78:function(e,t,n){e.exports={formControl:"FormsControl_formControl__1ZwPZ",error:"FormsControl_error__2Zkz5",formSummaryError:"FormsControl_formSummaryError__1PkX-"}},79:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r=function(e){if(!e)return"Field is required"},c=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},83:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",profileInfo:"ProfileInfo_profileInfo__2IJgv",mainPhoto:"ProfileInfo_mainPhoto__1Fgjo",contacts:"ProfileInfo_contacts__3y62P"}}},[[475,1,2]]]);
//# sourceMappingURL=main.f7dfe5eb.chunk.js.map